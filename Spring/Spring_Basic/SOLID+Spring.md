# 객체 지향 설계와 스프링

- **스프링은 다음 기술로 다형성 + OCP, DIP를 가능하게 지원**
  - DI(Dependency Injection) : 의존관계, 의존성 주입
  - DI 컨테이너 제공
- **클라이언트 코드의 변경없이 기능 확장**
- 쉽게 부품을 교체하듯이 개발

## 정리
- **모든 설계에 역할과 구현을 분리하자**
- 자동차, 공연 예를 떠올리기
- 애플리케이션 설계도 공연을 설계 하듯이 배역만 만들어두고, 배우는 언제든지 **유연**하게 **변경**할 수 있도록 만드는 것이 좋은 객체 지향 설계이다.
- 이상적으로는 **모든 설계에 인터페이스를 부여하자**

## 실무 고민
- 인터페이스를 도입하면 추상화라는 비용이 발생한다
- 기능을 확장할 가능성이 없다면, 구체 클래스를 직접 사용하고, 향후 꼭 필요할 때 리팩터링해서 인터페이스를 도입하는 것도 방법이다

## 스프링 기본 연습 GitHub Repo
https://github.com/ksh030506/core

## 비즈니스 요구사항 설계
- 회원
  - 회원을 가입하고 조회할 수 있다
  - 회원은 일반과 VIP 두 가지 등급이 있다
  - 회원 데이터 자체 DB를 구축할 수 있고, 외부 시스템과 연동할 수 있다
- 주문과 할인 정책
  - 회원은 상품을 주문할 수 있다
  - 회원 등급에 따라 할인 정책을 적용할 수 있다
  - 할인 정책은 모든 VIP는 1000원을 할인해주는 고정 금액 할인을 적용
  - 할인 정책은 변경 가능성이 높다. 회사의 기본 할인 정책을 아직 정하지 못했고, 오픈 직전까지 고민을 미루고 싶다. (최악 : 할인 적용 X)

- 요구사항을 보면 회원 데이터, 할인 정책 같은 부분은 지금 결정하기 어려운 부분이다. 그렇다고 이런 정책이 결정될 때 까지 개발을 무기한 기다릴 수 없다. 
- 인터페이스를 만들고 구현체를 언제든 갈아끼울 수 있는 설계
- 지금은 순수한 자바로만 개발

## 회원 도메인 설계
<img src="/img/img48.png">

## 주문 도메인 설계
<img src="/img/img49.png">

<img src="/img/img50.png">

<img src="/img/img51.png">

<img src="/img/img52.png">